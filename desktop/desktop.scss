.custom-sidebar {
  .contents > .topic-list {
    // Don't show the sidebar
    > div {
      display: none;
    }
  }
  .regular.with-sidebar.left .details-sidebar {
    display: none;
  }
}
// @media screen and (min-width: 767px) {
//   // Show the sidebar at 767px
//   .custom-sidebar {
//     &.sidebar-left {
//       .contents > .topic-list {
//         grid-template-columns: 20% 78%;
//         @media screen and (max-width: 900px) {
//           grid-template-columns: 25% 73%;
//         }
//         grid-template-areas:
//           "sidebar head"
//           "sidebar body";
//       }
//   }
//     &.sidebar-right .contents > .topic-list {
//       grid-template-columns: 78% 20%;
//       @media screen and (max-width: 900px) {
//         grid-template-columns: 73% 25%;
//       }
//       grid-template-areas:
//         "head sidebar"
//         "body sidebar";
//     }
//     .contents > .topic-list {
//       display: grid;
//       grid-column-gap: 2%;
//       align-items: start;
//       grid-template-rows: 50px auto;

//       .topic-list-header {
//         grid-area: head;
//         display: table;
//         align-self: end;
//         width: 100%; // Safari
//       }
//       > .category-sidebar {
//         overflow: hidden;
//         display: flex;
//         flex-direction: column;
//         margin-top: 15px;
//         grid-area: sidebar;
//         order: 3;
//         padding: 0;
//         position: relative;
//         @if $stick-on-scroll == "true" {
//           position: sticky;
//           overflow-y: auto;
//         }
//       }
//       .topic-list-body {
//         grid-area: body;
//         display: table;
//         width: 100%;
//       }
//     }
//   }
// }


// Details sidebar
// @media screen and (min-width: 1050px) {
//   .custom-sidebar {
//     &.sidebar-left {
//       #main-outlet > .container+div {
//         display: grid;
//         grid-template-areas: "sidebar .";
//         .details-sidebar { display: block; }
//         > span:first-of-type {
//           grid-area: sidebar;
//           grid-row: span 10;
//           max-width: 230px;
//           min-width: 230px;
//           margin-right: 10px;
//         }
//       }
//     }
//   }
// }
// End Details sidebar

.custom-sidebar {
  // #list-area .show-more.has-topics .alert {
  //   // New topic notification needs to be narrower
  //   box-sizing: border-box;
  //   width: 78%;
  //   @media screen and (max-width: 900px) {
  //     width: 73%;
  //   }
  // }

  // &.sidebar-left {
  //   #list-area .show-more.has-topics {
  //     display: flex;
  //     justify-content: end;
  //   }
  //   .details-sidebar {
  //     height: 100%;
  //   }
  // }
  // Styles collapsable
  &.has-sidebar-page {
    .category-sidebar {
      padding: 20px 20px 0;
    }
  }
  .category-sidebar {
    ul {
      margin-left: 0;
      margin-block: 0;
      padding-left: 0;
      li {
        list-style: none;
        padding-block: 3px;
        font-size: var(--base-font-size-smaller);
      }
    }
    a {
      color: var(--primary);
      &.active {
        font-weight: 600;
        &::after {
          content: "";
          position: absolute;
          left: 0;
          top: 0;
          height: 100%;
          background: var(--tertiary);
          width: 2px;
        }
      }
    }
    .cooked {
      p:first-child {
        display: none;
      }
      h3:first-of-type {
        margin-top: 0;
      }
      h3 {
        margin-bottom: 5px;
        font-weight: 500;
        font-size: var(--font-up-1-rem);
      }
    }
    .cooked > ul {
      padding-left: 0;
    }
    .cooked > details, li {
      padding-left: 8px;
    }
    .cooked {
      > ul, > details > ul {
        position: relative;
        &::before {
          content: "";
          position: absolute;
          left: 0;
          top: 0;
          height: 100%;
          width: 1px;
          background: #dee6ea;
        }
      }
      > details {
        padding-left: 0;
        > summary {
          font-weight: 500;
        }
        > ul {
          li > ul {
            a.active::after {
              left: -8px;
            }
          }
        }
        > details {
          padding-left: 8px;
          position: relative;
          > details {
            padding-left: 8px;
            a.active::after {
              left: -16px;
            }
            li > ul {
              a.active::after {
                left: -24px;
              }
            }
          }
          &::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 1px;
            background: #dee6ea;
          }
          a.active::after {
            left: -8px;
          }
        }
      }
    }
    li { position: relative; }
    details {
      > summary {
        display: flex;
        align-items: center;
        gap: 8px;
        padding-block: 3px;
        font-size: var(--base-font-size);
        &::before {
          content: none;
        }
        &::after {
          content: "";
          border: solid rgba(var(--primary-rgb),.35);
          border-width: 0 3px 3px 0;
          width: 0.4rem;
          height: 0.4rem;
          border-radius: 2.5px;
          transform: rotate(45deg);
          margin-top: -5px;
        }
      }
      &[open] > summary {
        &::before {
          content: none;
        }
        &::after {
          content: "";
          transform: rotate(225deg);
          margin-top: 5px;
        }
      }
    }
  }
}
