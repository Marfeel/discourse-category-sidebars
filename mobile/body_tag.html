<script>
  function observeHamburgerMobile(mutations) {
    mutations.forEach(function (mut) {
      if (mut.type === "childList") {
        updateCustomSidebar?.();
        updateSidebarActiveLink?.();
      }
    });
  }

  function initMobileObserver() {
    const mobilePanel = document.querySelector(".mobile-view .panel");
    if (mobilePanel) {
      const observerSidebarMobile = new MutationObserver(observeHamburgerMobile);
      observerSidebarMobile.observe(mobilePanel, {
        childList: true,
        subtree: true,
      });
    } else {
      setTimeout(initMobileObserver, 100);
    }
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initMobileObserver);
  } else {
    initMobileObserver();
  }
</script>
